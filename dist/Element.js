parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"4c6I":[function(require,module,exports) {
"use strict";function t(n){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function e(t,o,a){return(e=n()?Reflect.construct:function(t,n,e){var o=[null];o.push.apply(o,n);var a=new(Function.bind.apply(t,o));return e&&m(a,e.prototype),a}).apply(null,arguments)}function o(t){return i(t)||r(t)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function r(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function i(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}function c(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function u(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function p(t,n,e){return n&&u(t.prototype,n),e&&u(t,e),t}function s(n,e){return!e||"object"!==t(e)&&"function"!=typeof e?l(n):e}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&m(t,n)}function m(t,n){return(m=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var d=function(t){function n(t){var e;c(this,n);var o=[],a=new THREE.Bone;a.name="".concat(t.type," forearm"),o.push(a);var r=new THREE.Bone;return r.name="".concat(t.type," wrist"),a.add(r),o.push(r),t.fingers.forEach(function(n){var e=new THREE.Bone;e.name="".concat(t.type," ").concat(n.name," ").concat(n.metacarpal.name),o.push(e),r.add(e);var a=new THREE.Bone;a.name="".concat(t.type," ").concat(n.name," ").concat(n.proximal.name),o.push(a),e.add(a);var i=new THREE.Bone;i.name="".concat(t.type," ").concat(n.name," ").concat(n.medial.name),o.push(i),a.add(i);var c=new THREE.Bone;c.name="".concat(t.type," ").concat(n.name," ").concat(n.distal.name),o.push(c),i.add(c);var u=new THREE.Bone;u.name="".concat(t.type," ").concat(n.name,' "tip"'),o.push(u),c.add(u)}),(e=s(this,f(n).call(this,o))).setFromHand(t),e}return y(n,THREE.Skeleton),p(n,[{key:"setFromHand",value:function(t){var n=this,e=this.getBoneByName("".concat(t.type," forearm"));e.setRotationFromMatrix(t.arm.basis),e.position.copy(t.elbow);var o=this.getBoneByName("".concat(t.type," wrist"));this._updateBonePositionAndRotation(o,t.wrist,t.palm.basis),t.fingers.forEach(function(e,o){var a=n.getBoneByName("".concat(t.type," ").concat(e.name," ").concat(e.metacarpal.name));n._updateBonePositionAndRotation(a,e.metacarpal.position,e.metacarpal.basis);var r=n.getBoneByName("".concat(t.type," ").concat(e.name," ").concat(e.proximal.name));n._updateBonePositionAndRotation(r,e.proximal.position,e.proximal.basis);var i=n.getBoneByName("".concat(t.type," ").concat(e.name," ").concat(e.medial.name));n._updateBonePositionAndRotation(i,e.medial.position,e.medial.basis);var c=n.getBoneByName("".concat(t.type," ").concat(e.name," ").concat(e.distal.name));n._updateBonePositionAndRotation(c,e.distal.position,e.distal.basis);var u=n.getBoneByName("".concat(t.type," ").concat(e.name,' "tip"'));n._updateBonePosition(u,e.tipPosition)})}},{key:"_updateBonePosition",value:function(t,n){var a=e(THREE.Vector3,o(n.toArray()));t.parent.worldToLocal(a),t.position.copy(a)}},{key:"_updateBoneRotation",value:function(t,n){var e=new THREE.Matrix4;e.extractRotation(t.parent.matrixWorld),e.getInverse(e),e.multiply(n),t.setRotationFromMatrix(e)}},{key:"_updateBonePositionAndRotation",value:function(t,n,e){this._updateBonePosition(t,n),this._updateBoneRotation(t,e)}}]),n}(),b=d;exports.default=b;
},{}],"4adT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./Skeleton.js"));function e(t){return t&&t.__esModule?t:{default:t}}function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function n(t,e,o){return(n=r()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&i(o,r.prototype),o}).apply(null,arguments)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t){return s(t)||c(t)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function c(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function s(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function f(t,e,r){return e&&u(t.prototype,e),r&&u(t,r),t}var p=function(){function e(t){l(this,e);var r=t.confidence,i=t.id,a=t.timeVisible,c=t.type;Object.assign(this,{confidence:r,id:i,timeVisible:a,type:c});var s=t.armBasis,u=t.armWidth;this.arm={width:u,basis:new THREE.Matrix4};var f,p=s.map(function(t){return n(THREE.Vector3,o(t))});"left"==this.type&&p[0].negate(),(f=this.arm.basis).makeBasis.apply(f,o(p));var h=t.elbow;this.elbow=n(THREE.Vector3,o(h));var y=t.wrist;this.wrist=n(THREE.Vector3,o(y));var d=t.grabAngle,m=t.grabStrength;this.grab={angle:d,strength:m};var b=t.direction;this.direction=n(THREE.Vector3,o(b));var v=t.palmNormal,E=t.palmPosition,g=t.palmVelocity,w=t.palmWidth;this.palm={normal:n(THREE.Vector3,o(v)),position:n(THREE.Vector3,o(E)),velocity:n(THREE.Vector3,o(g)),width:w,basis:new THREE.Matrix4,direction:this.direction};var R=new THREE.Vector3;R.copy(this.palm.normal),R.negate(),this.palm.basis.lookAt(this.wrist,this.palm.position,R);var T=t.pinchDistance,V=t.pinchStrength;this.pinch={distance:T,strength:V},this.fingers=[]}return f(e,[{key:"skeleton",get:function(){return this._skeleton=this._skeleton||new t.default(this),this._skeleton}}]),e}(),h=p;exports.default=h;
},{"./Skeleton.js":"4c6I"}],"8FFW":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=function(){function t(n,r){e(this,t),this.basis=n,this.type=r,this.name=this.constructor.names[this.type]}return n(t,null,[{key:"names",get:function(){return["metacarpal","proximal","medial","distal"]}}]),t}(),a=r;exports.default=a;
},{}],"hGpX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("./Bone.js"));function i(t){return t&&t.__esModule?t:{default:t}}function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function e(t,i,r){return(e=n()?Reflect.construct:function(t,i,n){var e=[null];e.push.apply(e,i);var r=new(Function.bind.apply(t,e));return n&&o(r,n.prototype),r}).apply(null,arguments)}function o(t,i){return(o=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function r(t){return c(t)||s(t)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function c(t){if(Array.isArray(t)){for(var i=0,n=new Array(t.length);i<t.length;i++)n[i]=t[i];return n}}function p(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function u(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function l(t,i,n){return i&&u(t.prototype,i),n&&u(t,n),t}var d=function(){function i(n,o){var a=this;p(this,i);var s=n.id,c=n.handId;this.id=s,this.handId=c,this.hand=o.find(function(t){return t.id==a.handId});var u=n.type;this.type=u,this.name=this.constructor.names[this.type],this.hand.fingers[this.type]=this;var l=n.carpPosition,d=n.mcpPosition,f=n.pipPosition,h=n.dipPosition,b=n.btipPosition;this.carpPosition=e(THREE.Vector3,r(l)),this.mcpPosition=e(THREE.Vector3,r(d)),this.pipPosition=e(THREE.Vector3,r(f)),this.dipPosition=e(THREE.Vector3,r(h)),this.btipPosition=e(THREE.Vector3,r(b));var y=n.bases;this.bones=y.map(function(i,n){var o=i.map(function(t){return e(THREE.Vector3,r(t))});"left"==a.hand.type&&o[0].negate();var s=new THREE.Matrix4;return s.makeBasis.apply(s,r(o)),new t.default(s,n)}),this.bones.forEach(function(t,i){switch(t.pointable=a,i>0&&(t.prevJoint=a.bones[i-1]),i<a.bones.length-1&&(t.nextJoint=a.bones[i+1]),t.name){case"metacarpal":a.metacarpal=t,t.length=a.carpPosition.distanceTo(a.mcpPosition),t.position=a.carpPosition;break;case"proximal":a.proximal=t,t.length=a.mcpPosition.distanceTo(a.pipPosition),t.position=a.mcpPosition;break;case"medial":a.medial=t,t.length=a.pipPosition.distanceTo(a.dipPosition),t.position=a.pipPosition;break;case"distal":a.distal=t,t.length=a.dipPosition.distanceTo(a.btipPosition),t.position=a.dipPosition;break;default:throw"undefined bone index ".concat(i)}});var m=n.tipPosition;this.tipPosition=e(THREE.Vector3,r(m));var P=n.direction;this.direction=e(THREE.Vector3,r(P));var v=n.extended;this.extended=v;var E=n.length,g=n.width;this.length=E,this.width=g;var T=n.timeVisible;this.timeVisible=T}return l(i,null,[{key:"names",get:function(){return["thumb","index","middle","ring","pinky"]}}]),i}(),f=d;exports.default=f;
},{"./Bone.js":"8FFW"}],"txj5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("./Hand.js")),t=a(require("./Pointable.js"));function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function a(r){var s=this;n(this,a);var i=r.currentFrameRate,u=r.id,o=r.timestamp;Object.assign(this,{currentFrameRate:i,id:u,timestamp:o});var d=r.hands,c=r.pointables;this.hands=d.map(function(t){return new e.default(t)}),this.pointables=c.map(function(e){return new t.default(e,s.hands)})},s=r;exports.default=s;
},{"./Hand.js":"4adT","./Pointable.js":"hGpX"}],"4Vao":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./classes/Frame.js"));function t(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,s){return t&&n(e.prototype,t),s&&n(e,s),e}var a=function(){function t(){var e=this;s(this,t),this.addEventListener("message",function(t){return e.messageCallback(t)}),this.frames=[],this.framesLength=100,this.addEventListener("frame",function(t){var s=t.detail;e.frames.unshift(s),e.frames.length>e.framesLength&&e.frames.pop()})}return i(t,null,[{key:"socketURL",get:function(){return"https://leap-motion.glitch.me/"}}]),i(t,[{key:"messageCallback",value:function(t){var s=JSON.parse(t.detail);if(s.hasOwnProperty("version"))this.serviceVersion=s.serviceVersion,this.version=s.version,this.dispatchEvent(new CustomEvent("version",{bubbles:!1,detail:t}));else if(s.hasOwnProperty("event"))switch(s.event.type){case"deviceEvent":var n=s.event.state,i=n.attached,a=n.id,o=n.streaming,c=n.type;this.attached=i,this.id=a,this.streaming=o,this.type=c,this.dispatchEvent(new CustomEvent("device",{bubbles:!1,detail:s})),this.dispatchEvent(new CustomEvent("device".concat(s.event.state.attached?"Connected":"Disconnected"),{bubbles:!1})),this.dispatchEvent(new CustomEvent("".concat(s.event.state.streaming?"started":"stopped","Streaming"),{bubbles:!1}));break;default:this.dispatchEvent(new CustomEvent("unknown",{bubbles:!1,detail:s}))}else s.hasOwnProperty("currentFrameRate")&&(this.frame=new e.default(s),this.dispatchEvent(new CustomEvent("raw-frame",{bubbles:!1,detail:s})),this.dispatchEvent(new CustomEvent("frame",{bubbles:!1,detail:this.frame})))}},{key:"connect",value:function(){var e=this;this.webSocket=new WebSocket("ws://localhost:6437/v7.json"),this.webSocket.addEventListener("open",function(t){e.dispatchEvent(new CustomEvent("open",{bubbles:!1})),e.webSocket.addEventListener("message",function(t){return e.dispatchEvent(new CustomEvent("message",{bubbles:!1,detail:t.data}))}),e.webSocket.addEventListener("close",function(t){e.dispatchEvent(new CustomEvent("close",{bubbles:!1}))})})}},{key:"disconnct",value:function(){void 0!==this.webSocket&&(this.webSocket.close(),delete this.webSocket)}},{key:"startBroadcast",value:function(e){var t=this;null==this.socket&&(this.socket=new io(this.constructor.socketURL),this.socket.on("connect",function(){t.addEventListener("message",function(s){var n=s.detail;t.socket.emit("message",{detail:n,channel:e})})}))}},{key:"stopBroadcast",value:function(){void 0!==this.socket&&(this.socket.close(),delete this.socket)}},{key:"listenToBroadcast",value:function(e){var t=this;null==this.socket&&(this.socket=new io(this.constructor.socketURL),this.socket.on("connect",function(){t.socket.emit("join",{channel:e}),t.socket.on("message",function(e){t.dispatchEvent(new CustomEvent("message",{bubbles:!0,detail:e.detail}))})}))}},{key:"stopListeningToBroadcast",value:function(){void 0!==this.socket&&(this.socket.close(),delete this.socket)}}],[{key:"eventTypes",get:function(){return["open","close","message","version","device","deviceConnected","deviceDisconnected","startedStreaming","stoppedStreaming","raw-frame","frame"]}}]),t}();Object.assign(a.prototype,THREE.EventDispatcher.prototype);var o=a;exports.default=o;
},{"./classes/Frame.js":"txj5"}],"xtyQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./LeapMotion.js"));function e(t){return t&&t.__esModule?t:{default:t}}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function u(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function c(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?i(t):e}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}function f(t){var e="function"==typeof Map?new Map:void 0;return(f=function(t){if(null===t||!p(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return s(t,arguments,d(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),y(n,t)})(t)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function s(t,e,n){return(s=l()?Reflect.construct:function(t,e,n){var o=[null];o.push.apply(o,e);var r=new(Function.bind.apply(t,o));return n&&y(r,n.prototype),r}).apply(null,arguments)}function p(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(e){function n(){var e;return o(this,n),(e=c(this,d(n).call(this))).leapMotion=new t.default,e.leapMotion.constructor.eventTypes.forEach(function(t){e.leapMotion.addEventListener(t,function(t){return e.dispatchEvent(t)})}),e}return a(n,f(HTMLElement)),u(n,[{key:"connectedCallback",value:function(){this.dispatchEvent(new Event("load"))}},{key:"disconnectedCallback",value:function(){}},{key:"attributeChangedCallback",value:function(t,e,n){var o=this;switch(t){case"send":this.addEventListener("open",function(t){o.leapMotion.startBroadcast(n)});break;case"receive":this.addEventListener("load",function(t){o.leapMotion.listenToBroadcast(n)})}}}],[{key:"observedAttributes",get:function(){return["send","receive"].map(function(t){return t.toLowerCase()})}}]),n}();document.createElement("leap-motion").constructor==HTMLElement&&customElements.define("leap-motion",b);var v=b;exports.default=v;
},{"./LeapMotion.js":"4Vao"}]},{},["xtyQ"], null)
//# sourceMappingURL=/Element.js.map